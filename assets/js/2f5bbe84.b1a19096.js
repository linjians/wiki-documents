"use strict";(self.webpackChunkclassic=self.webpackChunkclassic||[]).push([[2905],{82791:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi","title":"WIFI","description":"\u672c\u6587\u6863\u4ecb\u7ecd\u4e86wifi \u9a71\u52a8\u5b89\u88c5\u548c\u4f7f\u7528\u7684\u8bf4\u660e\uff0c\u4ee5rtl8821\u4e3a\u4f8b\u3002","source":"@site/docs/1-NeoEdge NG4500 Series/2-NG4500-CB01 Development Board/2-Software Guide/1-Driver Installation and Updates/1-wifi.md","sourceDirName":"1-NeoEdge NG4500 Series/2-NG4500-CB01 Development Board/2-Software Guide/1-Driver Installation and Updates","slug":"/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi","permalink":"/wiki-documents/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/wifi","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Interface","permalink":"/wiki-documents/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/Interface&modules configure"},"next":{"title":"OV5647","permalink":"/wiki-documents/docs/NeoEdge NG4500 Series/NG4500-CB01 Development Board/Software Guide/Driver Installation and Updates/ov5647"}}');var d=r(74848),t=r(28453);const l={},o="WIFI",s={},c=[{value:"\u65b9\u6cd5",id:"\u65b9\u6cd5",level:2},{value:"\u7cfb\u7edf\u5185\u5b89\u88c5",id:"\u7cfb\u7edf\u5185\u5b89\u88c5",level:2},{value:"\u4f7f\u7528\u6e90\u7801\u7f16\u8bd1",id:"\u4f7f\u7528\u6e90\u7801\u7f16\u8bd1",level:2},{value:"\u4ee3\u7801\u83b7\u53d6",id:"\u4ee3\u7801\u83b7\u53d6",level:3},{value:"\u7f16\u8bd1",id:"\u7f16\u8bd1",level:3},{value:"\u4f7f\u7528\u4e0e\u9a8c\u8bc1",id:"\u4f7f\u7528\u4e0e\u9a8c\u8bc1",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(n.header,{children:(0,d.jsx)(n.h1,{id:"wifi",children:"WIFI"})}),"\n",(0,d.jsx)(n.p,{children:"\u672c\u6587\u6863\u4ecb\u7ecd\u4e86wifi \u9a71\u52a8\u5b89\u88c5\u548c\u4f7f\u7528\u7684\u8bf4\u660e\uff0c\u4ee5rtl8821\u4e3a\u4f8b\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u65b9\u6cd5",children:"\u65b9\u6cd5"}),"\n",(0,d.jsx)(n.p,{children:"\u6709\u4e24\u79cd\u65b9\u5f0f\u5b89\u88c5\u548c\u4f7f\u7528\u3002"}),"\n",(0,d.jsxs)(n.ol,{children:["\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u76f4\u63a5\u5728\u7cfb\u7edf\u5185\u4e0b\u8f7d\u5b89\u88c5"}),"\n"]}),"\n",(0,d.jsxs)(n.li,{children:["\n",(0,d.jsx)(n.p,{children:"\u4e0b\u8f7d\u6e90\u7801\u7f16\u8bd1\u540e\u70e7\u5199"}),"\n"]}),"\n"]}),"\n",(0,d.jsx)(n.h2,{id:"\u7cfb\u7edf\u5185\u5b89\u88c5",children:"\u7cfb\u7edf\u5185\u5b89\u88c5"}),"\n",(0,d.jsx)(n.p,{children:"\u8fdb\u5165\u7cfb\u7edf\u540e\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\u81ea\u52a8\u5b89\u88c5\u9a71\u52a8\u7a0b\u5e8f"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"$ sudo apt update\r\n$ sudo apt install rtl8821ce-dkms\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u5b8c\u6210\u540e\u6267\u884cmodprobe"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"$ sudo modprobe rtl8821ce\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u6267\u884cdemsg\u53ef\u770b\u5230\u76f8\u5173\u7684log\uff0c\u8bf4\u660e\u9a71\u52a8\u8bbe\u5907\u5df2\u7ecf\u6210\u529f\u52a0\u8f7d\u3002"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"[   10.805932] rtl8821ce 0001:01:00.0: Adding to iommu group 3\r\n[   10.806901] rtl8821ce 0001:01:00.0: enabling device (0000 -> 0003)\r\n[   11.077841] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_fw.bin\r\n[   11.079036] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_config.bin\r\n[   11.320620] rtl8821ce 0001:01:00.0 wlP1p1s0: renamed from wlan0\n"})}),"\n",(0,d.jsx)(n.h2,{id:"\u4f7f\u7528\u6e90\u7801\u7f16\u8bd1",children:"\u4f7f\u7528\u6e90\u7801\u7f16\u8bd1"}),"\n",(0,d.jsx)(n.h3,{id:"\u4ee3\u7801\u83b7\u53d6",children:"\u4ee3\u7801\u83b7\u53d6"}),"\n",(0,d.jsx)(n.p,{children:"\u6e90\u7801\u7684\u83b7\u53d6\u53ef\u4ee5\u5728github\u4e0a\u67e5\u627e\uff0c\u6216\u8005\u7531wifi\u5382\u5bb6\u63d0\u4f9b"}),"\n",(0,d.jsxs)(n.p,{children:["rtl8821 github\u7684\u6e90\u7801\u5728",(0,d.jsx)(n.a,{href:"https://github.com/tomaspinho/rtl8821ce",children:"GitHub - tomaspinho/rtl8821ce"})]}),"\n",(0,d.jsx)(n.h3,{id:"\u7f16\u8bd1",children:"\u7f16\u8bd1"}),"\n",(0,d.jsx)(n.p,{children:"\u5c06\u6e90\u7801\u653e\u5230\u5de5\u7a0b\u76ee\u5f55Linux_for_Tegra/source/nvidia-oot/drivers\u5bf9\u5e94\u7684\u9a71\u52a8\u4e0b\uff0c\u4f8b\u5982"}),"\n",(0,d.jsx)(n.p,{children:"Linux_for_Tegra/source/nvidia-oot/drivers/net/wireless/realtek"}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u6539Makefile\uff0c\u5c06rtl8821ce\u52a0\u5165\u7f16\u8bd1"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"obj-m += rtl8821ce/\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u6839\u636e\u5b9e\u9645\u60c5\u51b5\u4fee\u6539\u9a71\u52a8\u7f16\u8bd1\u7684Makefile"}),"\n",(0,d.jsx)(n.p,{children:"rtl8821ce\u76ee\u5f55\u4e0bMakefile\u4fee\u6539\u7684diff\u5982\u4e0b"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"diff --git a/Makefile b/Makefile\r\nindex 5b5dc9a..01b1e24 100755\r\n--- a/Makefile\r\n+++ b/Makefile\r\n@@ -15,6 +15,8 @@ EXTRA_CFLAGS += -Wno-unused-parameter\r\n EXTRA_CFLAGS += -Wno-unused-function\r\n EXTRA_CFLAGS += -Wno-unused\r\n #EXTRA_CFLAGS += -Wno-uninitialized\r\n+EXTRA_CFLAGS += -Wno-missing-prototypes\r\n+EXTRA_CFLAGS += -Wno-error=misleading-indentation\r\n\r\n GCC_VER_49 := $(shell echo `$(CC) -dumpversion | cut -f1-2 -d.` \\>= 4.9 | bc )\r\n ifeq ($(GCC_VER_49),1)\r\n@@ -29,6 +31,7 @@ else\r\n     export TopDIR ?= $(srctree)/$(src)\r\n endif\r\n\r\n+TopDIR = $(srctree.nvidia-oot)/drivers/net/wireless/realtek/rtl8821ce\r\n EXTRA_CFLAGS += -I$(TopDIR)/include\r\n\r\n EXTRA_LDFLAGS += --strip-debug\r\n@@ -113,7 +116,8 @@ CONFIG_RTW_SDIO_PM_KEEP_POWER = y\r\n ###################### MP HW TX MODE FOR VHT #######################\r\n CONFIG_MP_VHT_HW_TX_MODE = n\r\n ###################### Platform Related #######################\r\n-CONFIG_PLATFORM_I386_PC = y\r\n+CONFIG_PLATFORM_TEGRA = y\r\n+CONFIG_PLATFORM_I386_PC = n\r\n CONFIG_PLATFORM_ANDROID_X86 = n\r\n CONFIG_PLATFORM_ANDROID_INTEL_X86 = n\r\n CONFIG_PLATFORM_JB_X86 = n\r\n@@ -1212,6 +1216,15 @@ endif\r\n\r\n EXTRA_CFLAGS += -DDM_ODM_SUPPORT_TYPE=0x04\r\n\r\n+ifeq ($(CONFIG_PLATFORM_TEGRA), y)\r\n+ARCH = arm\r\n+KVER := $(shell uname -r)\r\n+KSRC := /lib/modules/$(KVER)/build\r\n+EXTRA_CFLAGS += -DCONFIG_LITTLE_ENDIAN\r\n+EXTRA_CFLAGS += -DCONFIG_IOCTL_CFG80211 -DRTW_USE_CFG80211_STA_EVENT\r\n+EXTRA_CFLAGS += -Wno-error=date-time\r\n+MODULE_NAME = rtl8821ce\r\n+endif\r\n ifeq ($(CONFIG_PLATFORM_I386_PC), y)\r\n EXTRA_CFLAGS += -DCONFIG_LITTLE_ENDIAN\r\n EXTRA_CFLAGS += -DCONFIG_IOCTL_CFG80211 -DRTW_USE_CFG80211_STA_EVENT\r\n@@ -2232,7 +2245,7 @@ ifeq ($(CONFIG_RTL8723B), y)\r\n $(MODULE_NAME)-$(CONFIG_MP_INCLUDED)+= core/rtw_bt_mp.o\r\n endif\r\n\r\n-obj-$(CONFIG_RTL8821CE) := $(MODULE_NAME).o\r\n+obj-m := $(MODULE_NAME).o\r\n\r\n else\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4fee\u6539\u540e\uff0c\u6267\u884ckernel\u7f16\u8bd1\u547d\u4ee4\u6216\u8005\u5355\u72ec\u7f16\u8bd1\u6a21\u5757install\u5230rootfs\u4e0b\uff0c\u540e\u7eed\u70e7\u5f55\u5373\u53ef\u3002\u7f16\u8bd1\u548c\u70e7\u5f55\u53c2\u8003\u524d\u9762\u76f8\u5173\u6587\u6863\u3002"}),"\n",(0,d.jsx)(n.h2,{id:"\u4f7f\u7528\u4e0e\u9a8c\u8bc1",children:"\u4f7f\u7528\u4e0e\u9a8c\u8bc1"}),"\n",(0,d.jsx)(n.p,{children:"\u7cfb\u7edf\u542f\u52a8\u540e\u6267\u884cmodprobe"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"$ sudo modprobe rtl8821ce\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4f7f\u7528\u547d\u4ee4lspci\u67e5\u770bpci\u603b\u7ebf\u4e0a\u7684\u8bbe\u5907"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"0001:01:00.0 Network controller: Realtek Semiconductor Co., Ltd. RTL8821CE 802.11ac PCIe Wireless Network Adapter\n"})}),"\n",(0,d.jsx)(n.p,{children:"dmesg\u547d\u4ee4\u53ef\u4ee5\u770b\u5230\u8bbe\u5907\u88ab\u6dfb\u52a0\u6210\u529f"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"$ sudo dmesg | grep rtl\r\n[    9.785137] rtl8821ce 0001:01:00.0: Adding to iommu group 3\r\n[    9.785307] rtl8821ce 0001:01:00.0: enabling device (0000 -> 0003)\r\n[   10.010615] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_fw.bin\r\n[   10.011780] Bluetooth: hci0: RTL: loading rtl_bt/rtl8821c_config.bin\r\n[   10.441574] rtl8821ce 0001:01:00.0 wlP1p1s0: renamed from wlan0\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u8fde\u63a5wifi"}),"\n",(0,d.jsx)(n.p,{children:(0,d.jsx)(n.img,{alt:"RTL8821_wifi_connection1.png",src:r(7562).A+"",width:"423",height:"493"})}),"\n",(0,d.jsx)(n.p,{children:"ifconfig\u67e5\u770b\u7f51\u7edc\u8bbe\u5907"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"wlP1p1s0: flags=4163<UP,BROADCAST,RUNNING,MULTICAST>  mtu 1500\r\n        inet 192.168.204.218  netmask 255.255.255.0  broadcast 192.168.204.255\r\n        inet6 fe80::aba:6776:77ec:4831  prefixlen 64  scopeid 0x20<link>\r\n        inet6 2409:8934:20d4:908:f2b8:fd54:f19a:a11a  prefixlen 64  scopeid 0x0<global>\r\n        inet6 2409:8934:20d4:908:5de2:d217:83e0:d943  prefixlen 64  scopeid 0x0<global>\r\n        ether a4:e8:8d:0f:e4:ce  txqueuelen 1000  (Ethernet)\r\n        RX packets 2060  bytes 2644294 (2.6 MB)\r\n        RX errors 0  dropped 48  overruns 0  frame 0\r\n        TX packets 1656  bytes 195010 (195.0 KB)\r\n        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0ons 0\n"})}),"\n",(0,d.jsx)(n.p,{children:"\u4f7f\u7528ping\u6d4b\u8bd5\u7f51\u7edc\u8fde\u63a5"}),"\n",(0,d.jsx)(n.pre,{children:(0,d.jsx)(n.code,{children:"$ ping -I wlP1p1s0 www.baidu.com\r\nPING www.baidu.com(2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77)) from 2409:8934:20d4:908:5de2:d217:83e0:d943 wlP1p1s0: 56 data bytes\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=1 ttl=48 time=88.7 ms\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=2 ttl=48 time=50.8 ms\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=3 ttl=48 time=80.5 ms\r\n64 bytes from 2409:8c20:6:1d55:0:ff:b09c:7d77 (2409:8c20:6:1d55:0:ff:b09c:7d77): icmp_seq=4 ttl=48 time=86.1 ms\n"})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,d.jsx)(n,{...e,children:(0,d.jsx)(a,{...e})}):a(e)}},7562:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/RTL8821_wifi_connection1-8f053624f6300ee150825aafdc321554.png"},28453:(e,n,r)=>{r.d(n,{R:()=>l,x:()=>o});var i=r(96540);const d={},t=i.createContext(d);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(d):e.components||d:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);